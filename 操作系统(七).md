# 操作系统(七)

##　读者与编者问题

- 编者与读者的互斥
- 编者与编者的互斥
- 读者之间不互斥
- 考虑读者数量,设置合理信号量

## windows下的同步机制

- 临界区
  - 进程内使用,保证一个线程可以申请到该对象
- 互斥量
  - 保证一个线程可以申请到对象
  - 但是可以跨进程
- 信号量
  - 允许指定数目的多个线程/进程访问临界区
  - 有资源计数器,限制线程数量
  - 有状态的信号量,大于0或者小于0
- 事件
- 等待机制

## linux下父子进程的同步

- wait函数 : 阻塞自己,阻塞到子进程结束
  - 子进程退出时,父进程收集子进程信息,并销毁
- exit函数
  - 进程终结时释放资源,并报告父进程
- sleep函数
  - 进程进入就绪状态,暂停
- 子进程修改共享变量修改的是副本,不互相影响
  - 对文件的共享是相同的

## 匿名管道通信

## windows

- 管道通信

  - 有名
  - 匿名
  - 进程间的一种通信机制
  - 象文件一样可读可写
  - 仅能用于父子进程或者兄弟进程之间
  - 父进程writefile,子进程输入重定向
  - 父进程readfile,子进程输出重定向
  - createprocess创建子进程时说明
  - 父子进程双向通信需要两个管道

  