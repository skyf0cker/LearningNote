# 操作系统(十)

##　内存管理

- 共享
- 保护

存储体系:

三级存储体系

CACHE 内存 辅存

##　存储管理的功能

- 地址映射

  - 吧程序中的虚拟地址变换成真实地址(物理地址)

  - 方式:

    - 固定地址映射

      - 编程或者编译时确定逻辑地址和物理地址的映射关系
      - 特点:
        - 程序加载时必须放在指定的内存区域
        - 容易产生地址冲突,运行失败

    - 静态地址映射

      - 程序装入时(运行前)由操作系统完成逻辑地址到物理地址的映射
      - 在程序装入时,将虚拟地址加上装入基址
      - 特点:
        - 程序运行之前确定映射关系
        - 程序装入后不能移动
          - 如果移动必须放回原来位置
        - 程序占用连续的内存空间

    - 动态地址映射

      - 在程序执行过程中把逻辑地址装换为物理地址
        - 发生访存指令时:mov ax [500]
      - 装入基址会因为移动改变
      - 特点:
        - 程序占用的内存空间可动态的变化
          - 要求及时更新基址
        - 程序不要求占用连续的空间
        - 便于多个进程共享代码
      - 缺点:
        - 硬件支持:需要有MMU
        - 软件复杂

      

- 虚拟存储

  - 解决问题:
    - 程序需要内存太大
    - 多进程地址冲突

- 内存分配

  - 需要解决的问题
    - 放置策略
    - 调入策略
    - 淘汰策略

- 存储保护

  - 防止访问越界
  - 防止访问越权
  - 方法:界址寄存器

## 物理内存管理

### 分区内存管理

- 单一区存储管理
  - 不分区存储管理
  - 例如:DOS
  - 简单,不需要复杂硬件支持
- 分区存储管理
  - 固定分区
  - 动态分区



