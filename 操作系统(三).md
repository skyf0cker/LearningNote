# 操作系统(三)

> No more !

## 操作系统用户界面

- 操作系统启动过程

  - BIOS和MBR

    - 计算机的工作模式有两种:

      - 实模式(刚刚加点启动的时候)

        - 按8086的寻址方式访问1MB内存
        - 寻址方式=段地址:偏移地址
        - CPU单任务执行
  - 保护模式
    
    - 寻址方式:使用段页式寻址机制,段也有了属性(权限控制)
        - 虚拟地址,进程,封闭空间(保护内存)
        - CPU支持多任务
       - 实模式存取的1M空间分布:
     - 前面的640K是基本内存
          - 中间的128K是显卡显存
     - 末尾256K是BIOS
                   - 显卡BIOS
                 - IDE控制器BIOS
                   - 系统BIOS
                        - BIOS (Basic I/O System) 固件,以硬件为基础的软件
                        - 功能:
                          - 系统的启动配置(CMOS)
                          - 基础的设备IO服务(中断方式提供IO服务)
                          - 系统的加电自检和启动
                            - 按下电源键:FFFF0 第一条指令 JUMP POST
                            - 查找显卡BIOS,调用显卡BIOS
                            - 然后显示开机画面
                            - 寻找其他设备的BIOS
                            - 从硬盘磁盘u盘中读入OS
                            - OS启动后,由OS接管计算机
                  - MBR 主启动记录
                    - BIOS读去OS时,要读取硬盘的首扇区,也就是MBR
                    - 存放OS启动的相关信息
                    - 存放引导程序,比如著名的GRUB
  - 系统的具体启动过程:
  
    - 初始化引导:
    - BIOS读入引导程序
    - 初始化内核
      - 引导程序读取OS核心
      - OS核心初始化一些寄存器以及创建一些核心进程
    - 初始化系统
      - 初始化网络,文件系统...
  - linux启动过程
    - 特殊的地方就是linux读取的OS核心就是Kernel,但是Kernel是一半压缩,一半没压缩的,所以还有一个解压的过程
  - windows
    - 读入的是DOS7.0,然后在引入其他的
  
  
  
- 系统调用
  
  - 操作系统内核为应用程序提供的服务/函数
  
  - 内核空间实现
  - 运行于核态
  - 涉及核心资源
  - 会产生中断
    - ![image-20191205092915875](/home/vophan/.config/Typora/typora-user-images/image-20191205092915875.png)
  
  ​	
  - DOS用21号中断
  - Linux用80号中断
  - 高级语言存在隐式系统调用
    - ![image-20191205093701297](/home/vophan/.config/Typora/typora-user-images/image-20191205093701297.png)

